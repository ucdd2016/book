<!DOCTYPE html>
<html>
<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href"https://raw.githubusercontent.com/codrops/HoverEffectIdeas/master/css/set1.css">
  <!--Import stylesheet for Leaflet to work-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
  <link rel="stylesheet" href="/css/leaflet.label.css" />

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<style>
  html { 
    background: url(http://thenextweb.com/wp-content/blogs.dir/1/files/2012/10/Food.jpg) no-repeat center center fixed; 
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
  }
  body{
    background: transparent;
  }
  figure.effect-sadie h3 {
    position: absolute;
    top: 25%;
    left: 11.5%;
    width: 100%;
    color: #484c61;
    transition: transform 0.35s, color 0.35s;
    transform: translate3d(0,-50%,0);
  }

  figure.effect-sadie:hover h3 {
    color: #fff;
    transform: translate3d(0,-50%,0) translate3d(0,-40px,0);
  }
  figure.effect-sadie2 h3 {
    position: absolute;
    top: 25%;
    left: 1.5%;
    width: 100%;
    color: #fff;
    transition: transform 0.35s, color 0.35s;
    transform: translate3d(0,-50%,0);
  }

  figure.effect-sadie2:hover h3 {
    color: #484c61;
    transform: translate3d(0,-50%,0) translate3d(0,-40px,0);
  }
  figure.effect-sadie2 p{
    top:-20%;
  }    </style>
  
  <body>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.0.0/lodash.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>
    <script src="/js/leaflet.label.js"></script>
    <nav class="nav-wrapper grey darken-3">
      <div class="nav-wrapper grey darken-3 navbar navbar-inverse navbar-fixed-top">
        <ul id="nav-mobile navbar-inner">
          <li class="left" style="margin-left:20px; font-size:20px;">FooBer</li>
          <li class="active right" ><a href="index.html" style="text-decoration:none;"><i class="large material-icons">replay</i></a></li>
          <li class="active right" ><a href="/apps/uber/" style="text-decoration:none;"><i class="large material-icons">home</i></a></li>
        </ul>
      </div>
    </nav>

    <div class="container col s12 card grey darken-3">
      <div class="card-content white-text">
        <span class="card-title">Add an Order</span>
      </div>

        <div class="container row col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="restaurant_name" type="text" class="validate">
              <label for="restaurant_name">Restaurant name</label>
            </div>
            <div class="input-field col s6">
              <input id="delivery_location" type="text" class="validate">
              <label for="delivery_location">Delivery Location</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="delivery_time" type="text" class="validate">
              <label for="delivery_time">Delievry Time</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input id="order_amount" type="text" class="validate">
              <label for="order_amount">Order Amount</label>
            </div>
          </div>
        </form>
      </div>

    <div class="card-action">
      <a class="waves-effect waves-light btn orange" id="submit">Submit</a>
    </div>
  </div>

  <script>
  $('#submit').click(function(){
    var ref = new Firebase('https://uber-fray.firebaseio.com/orders')
    var restaurant_name = $('#restaurant_name').val()
    var delivery_location = $('#delivery_location').val()
    var delivery_time = $('#delivery_time').val()
    var order_amount = $('#order_amount').val()
    var lat = localStorage.getItem('lat')
    var lon = localStorage.getItem('lon')   
    var key = localStorage.getItem('name')
    order = {
      restaurant_name: restaurant_name,
      delivery_time : delivery_time,
      delivery_location : delivery_location,
      order_amount : order_amount,
      lat: lat,
      lon: lon
    }
    ref.child(key).set(order)
    Materialize.toast('submitted', 4000)
  })    
  </script>

  </body>
  </html>