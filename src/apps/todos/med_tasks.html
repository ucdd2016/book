<!DOCTYPE html>
<html>
<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
  <script>
    function getFocus() {
      document.getElementById("new-todo").focus();
    }
  </script>
</head>

<body class="grad" onload="getFocus();">
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
  <!-- // <script src="todo.js"></script> -->
  <link rel="stylesheet" type="text/css" href="todo.css">

  <div class="container">
	  <div class="navbar">
		<nav>
			<div class="nav-wrapper" id="todo-nav">
				<a href="index.html" class="brand-logo">KeySmashers To-Do List</a>
				<ul class="right hide-on-small-and-down">
				<li><a href="high_tasks.html">High</a></li>
				<li class="active"><a href="med_tasks.html">Medium</a></li>
				<li><a href="low_tasks.html">Low</a></li>
			</ul>
		</div>
		</nav>
	</div>
	
    <div id="todo-app">
      <label class="todo-label" for="new-todo">What would you like to add to your To-Do list?</label>
      <input type="text" id="new-todo" class="todo-input"
      placeholder="Todo here...">

      <ul id="todo-list"></ul>
      <div id="todo-stats"></div>
    </div>
    <div>
      <a class="waves-effect waves-light btn">Add</a>
    </div>


  </div>
  <p>&nbsp;</p>
  <div class="container">
    <h2>Tasks</h2>
    <ul id="tasks">
    </ul>
  </div>

  <script>
        // create a firebase reference to the root
        var ref = new Firebase('https://todofirebaseteamkeymasters.firebaseio.com/')
        // read data from the location bio/tasks, only once
        ref.child('bio/tasks').once('value', function(snapshot){
          var tasks = snapshot.val()
          tasks.forEach(function(tasks){
            $('#tasks').append('<li class="task-entry">' + tasks.name + ':' + '<li class="task-entry-details">' + 'Date: ' + tasks.deadline + '</li>' + '<li class="task-entry-details">' + 'Priority: ' + tasks.priority + '</li>' + '<li class="task-entry-details">' + 'Type: ' +  tasks.type + '</li>' + '</li>' + '<p>&nbsp;</p')
          })
        })
      </script>
    </body>
    </html>
